<div *ngIf="report" id="report">
  <div id="variant">
    <h2>Variant</h2>
    <div id="variant-data-container">
      <div id="variant-data-labels">
        <span>chromosome</span>
        <span>position</span>
        <span>reference</span>
        <span>alternative</span>
        <span>variant type</span>
      </div>
      <div id="variant-data">
        <span id="variant-chromosome">{{ report.variant.chromosome }}</span>
        <span id="variant-position">{{ report.variant.position }}</span>
        <span id="variant-reference">{{ report.variant.reference }}</span>
        <span id="variant-alternate">{{ report.variant.alernative }}</span>
        <span id="variant-type">{{ report.variant.variantType }}</span>
      </div>
    </div>
  </div>
  <div id="annotators">
    <div *ngFor="let annotator of report.annotators" class="annotator">
      <div class="attributes">
        <div *ngFor="let attribute of annotator.attributes" class="attribute-container">
          <div class="attribute" style="width: 100%">
            <div class="attribute-header">{{ attribute.name }}</div>
            <div class="attribute-description">{{ attribute.description }}</div>
            <div class="attribute-source">source: {{ attribute.source }}</div>
            <div class="attribute-result">
              <app-histogram-wrapper
                *ngIf="attribute.result.histogramLink"
                [histogramUrl]="attribute.result.histogramLink"
                [value]="attribute.result.value"></app-histogram-wrapper>
              <div
                class="value-result"
                *ngIf="!attribute.result.histogramLink && !tableViewSources.includes(attribute.source)"
                >{{ attribute.result.value }}</div
              >
              <div
                *ngIf="
                  tableViewSources.includes(attribute.source) &&
                  annotator.details.name === 'effect_annotator' &&
                  attribute.result.value
                ">
                <app-effect-table
                  [rawEffectDetails]="attribute.result.value.toString()"
                  [source]="attribute.source"></app-effect-table>
              </div>
            </div>
          </div>
          <span
            *ngIf="attribute.help"
            class="material-symbols-outlined"
            id="help-icon"
            (click)="showHelp(attribute.help)"
            >info</span
          >
        </div>
      </div>

      <div class="annotator-details">
        <div>
          <div class="annotator-label"
            >Annotator: <span class="annotator-header">{{ annotator.details.name }}</span></div
          >
          <markdown class="annotator-description">{{ annotator.details.description }}</markdown>
        </div>

        <div class="resource">
          <div class="resource-label">Resource</div>
          <div
            ><span class="id-label">id: </span>
            <a [href]="annotator.details.resourceUrl" class="annotator-resource">{{
              annotator.details.resourceId
            }}</a></div
          >
        </div>
      </div>
    </div>
  </div>
</div>
