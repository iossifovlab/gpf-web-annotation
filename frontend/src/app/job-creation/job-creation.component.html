<div style="flex-shrink: 3; align-self: stretch; flex-grow: 2; display: flex; flex-direction: column">
  <div id="quota">Quota: 5 per day</div>

  <div style="flex-shrink: 3">
    <div *ngIf="!file" id="file-upload-field" (dragover)="onDragOver($event)" (drop)="onDropSuccess($event)">
      <div id="upload-instructions">
        Drag & drop here or
        <label id="file-upload-label" for="file-upload">Choose file</label>
        <input type="file" id="file-upload" (change)="onUpload($event)" style="display: none" />
      </div>
      <div>
        <div class="restrictions">*Supported formats: CSV, VCF</div>
        <div class="restrictions">*Maximum file size: {{ userLimitations.filesize }}</div>
        <div class="restrictions">*Maximum variants: {{ userLimitations.variantCount }}</div>
        <div class="restrictions">*Maximum jobs a day: {{ userLimitations.dailyJobs }}</div>
        <div class="restrictions">*Jobs left: {{ userLimitations.jobsLeft }}</div>
      </div>
    </div>

    <div *ngIf="file" id="uploaded-file-container">
      <div id="file-info">
        <span *ngIf="uploadError" class="material-symbols-outlined warning-icon">warning</span>
        <span *ngIf="!uploadError" class="material-symbols-outlined file-icon">article</span>
        <span>{{ file.name }}</span>
        <span class="error-message">{{ uploadError }}</span>
      </div>
      <button (click)="removeFile()" id="delete-uploaded-file">
        <span class="material-symbols-outlined delete-icon">delete</span>
      </button>
    </div>

    <div *ngIf="this.file && !this.file.name.endsWith('vcf') && !uploadError" class="separator-list">
      <label class="separator-label">Separate columns by: </label>
      <input
        type="radio"
        id="tab-separtor-radio"
        name="separator"
        value="Tab"
        (click)="submitNewSeparator('\t')"
        [checked]="fileSeparator === '\t'" />
      <label class="separator-label" for="tab-separtor-radio">Tab</label>

      <input
        type="radio"
        id="comma-separtor-radio"
        name="separator"
        value="Comma"
        (click)="submitNewSeparator(',')"
        [checked]="fileSeparator === ','" />
      <label class="separator-label" for="comma-separtor-radio">Comma</label>

      <input
        type="radio"
        id="no-separator-radio"
        name="separator"
        value="No separator"
        (click)="submitNewSeparator('')"
        [checked]="!fileSeparator" />
      <label class="separator-label" for="no-separator-radio">No separator</label>
    </div>

    <app-column-specifying
      *ngIf="fileContent"
      [fileContent]="fileContent"
      (emitColumns)="getColumns($event)"></app-column-specifying>

    <div *ngIf="requireGenome">
      <label for="select-genome">Select genome:</label>
      <select id="select-genome" [(ngModel)]="selectedGenome" (ngModelChange)="onSelectGenome($event)">
        <option *ngFor="let genome of genomes" [value]="genome">{{ genome }}</option>
      </select>
    </div>
  </div>
</div>
