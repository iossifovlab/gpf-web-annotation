<div id="annotation-mode">
  <div>
    <button
      id="pipelines-list"
      [ngClass]="view === 'pipeline list' ? 'active-view' : 'inactive-view'"
      (click)="changeView('pipeline list')"
      >Annotation pipelines</button
    >
    <button
      id="text-editor"
      [ngClass]="view === 'text editor' ? 'active-view' : 'inactive-view'"
      (click)="changeView('text editor')"
      >YML text editor</button
    >
  </div>
</div>
<div id="annotation-details">
  <ng-container *ngIf="view === 'pipeline list'">
    <input
      [title]="pipelineId"
      id="pipelines-input"
      matInput
      [matAutocomplete]="pipelinesDropdown"
      [formControl]="dropdownControl" />

    <mat-autocomplete #pipelinesDropdown="matAutocomplete">
      <mat-option
        *ngFor="let pipelineId of filteredPipelines$ | async"
        class="pipeline-option"
        (click)="onPipelineClick(pipelineId)"
        (onSelectionChange)="onPipelineClick(pipelineId)"
        [title]="pipelineId"
        [value]="pipelineId">
        {{ pipelineId }}
      </mat-option>
    </mat-autocomplete>
  </ng-container>
  <ng-container *ngIf="view === 'text editor'">
    <textarea
      id="yml-textarea"
      [(ngModel)]="ymlConfig"
      [ngClass]="{ 'invalid-config': configError }"
      (change)="isConfigValid(ymlConfig)"></textarea>
    <div *ngIf="configError" class="error-message">{{ configError }}</div>
  </ng-container>
</div>
